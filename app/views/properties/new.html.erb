<%= provide(:title, "Post a new property") %>

<style>
	.nav-pills > li.active > a, .nav-pills > li.active > a:hover {
		background-color: #5bc0de;

	}

	 .nav-pills > li > a,.nav-pills > li > a:hover {
		background-color: white;
		pointer-events: none;
   		cursor: default;

	}

/*
	.dl-horizontal dt{
    	width: 40%;
   		
	}

	.dl-horizontal dt,dd {
		margin-bottom: 3px;

	}

	.dl-horizontal dd {
		text-align: left;

	}

	.non-resize {
    	resize: none;
	}
	*/

	.non-input {
		border: none;
		background-color: transparent;
	} 

	


	 
	 input {
	 	margin-bottom: 0px !important;
	 	color: #428bca !important;
	 	margin-right: 0px !important;
	 	
	 }
</style>







<div id="top" class="row">
	
	<ul class="nav nav-tabs nav-justified nav-pills">
		
  		<li class="active col-md-4 col-xs-12 step_1_tab"><a href="#">Step 1: Listing Information</a></li>
  		
  		<li class="col-md-4 col-xs-12 step_2_tab"><a href="#">Step 2: Address & Uploading Photo</a></li>
  		
  		<li class="col-md-4 col-xs-12 step_3_tab"><a href="#">Step 3: Review</a></li>

  		
  		
	</ul>
	
</div>	

<br><br>


<form class="form-horizontal">
	<!-- step 1 -->
	<div class="step_1">
		<div class="row">
				
			<div class="col-md-6 col-xs-12">
					

				<div class="form-group">
					<label class="control-label col-xs-3">* type</label>
					<div class="col-xs-9">
						
  						<div id="type" class="btn-group" data-toggle="buttons">
			                <label id="rent_label" class="btn btn-default active">
			                	<input name="type" type="radio" value="0" checked/><span id="type_0">Rent</span>
			                </label>

			                <label id="shared_label" class="btn btn-default">
			                	<input name="type" type="radio" value="1"/><span id="type_1">Shared Apt.</span>
			                </label>

			                <label id="sublease_label" class="btn btn-default ">
			                	<input name="type" type="radio"value="2" /><span id="type_2">Sublease</span>
			                </label>

		            	</div>
					</div>
				</div>

				<div class="form-group">
					<label class="control-label col-xs-3"> Date</label>
					<div class="col-xs-9">
						<div class="input-daterange datepicker input-group" id="datepicker">

                			<span class="input-group-addon">
                  				<span class="glyphicon glyphicon-calendar"></span>
                			</span>

    						<input type="text" class="form-control" name="start_date" id="start_date" placeholder="Start Date"/>
    					
    						<span id="to_span" class="input-group-addon non-visibile"> to </span>
    					
    						<input type="text" class="form-control non-visibile" name="end_date" id="end_date" placeholder="End Date"/>
    					
					  	</div>
						
					</div>
				</div>

				<div class="form-group">
					<label class="control-label col-xs-3">* Room</label>
					<div class="col-xs-9">
						<div class="input-group">
							
	                    <span class="input-group-addon"> Bed </span>
	                    <input id="bed_input" type="text" class="form-control " placeholder="Number">

	                    <span class="input-group-addon"> Bath </span>
	                    <input id="bath_input" type="text" class="form-control" placeholder="Number">
	                       
						</div>	


						
						
					</div>
				</div>
					

				<div id="people" class="form-group hide">
					<label class="control-label col-xs-3"> People</label>
					<div class="col-xs-9">
						<input id="slider" type="text" class="span2" value="" data-slider-min="0" data-slider-max="5" data-slider-step="1" data-slider-value="1" data-slider-orientation="horizontal" data-slider-selection="after" data-slider-tooltip="show" >
						
					</div>
					<span class="help-block"> how many ppl can in a room ........ </span>
				</div>
					
				<div class="form-group">
					<label class="control-label col-xs-3">* Price</label>
					<div class="col-xs-9">
						<div class="input-group">
							<span class="input-group-addon">
	                        	<span class="glyphicon glyphicon-usd"></span>
	                        </span>
	                      
	                        <input id="price_input" type="text" class="form-control text-right" placeholder="US Dollar">
	                        <span id="price_span" class="input-group-addon"> .00 /Month</span>
						</div>	
					</div>
				</div>

				

				<div id="deposit" class="form-group">
					<label class="control-label col-xs-3">Deposit</label>
					<div class="col-xs-9">

						<div class="input-group">
							<span class="input-group-addon">
        						<input type="checkbox" id="deposit_ckb">
      						</span>
							<span class="input-group-addon">
	                        	<span class="glyphicon glyphicon-file"></span>
	                        </span>
	                      
	                        <input id="deposit_input" disabled type="text" class="form-control text-right" placeholder="amount">
	                        <span class="input-group-addon"> month(s)</span>                   	
						</div>	
						
					</div>
				</div>

				<div id="contract" class="form-group">
					<label class="control-label col-xs-3">Contract</label>
					<div class="col-xs-9">
						<div class="input-group">
							<span class="input-group-addon">
        						<input type="checkbox" id="contract_ckb">
      						</span>
							<span class="input-group-addon">
	                        	<span class="glyphicon glyphicon-file"></span>
	                        </span>
	                      
	                        <input id="contract_input" disabled type="text" class="form-control text-right" placeholder="amount">
	                        <span class="input-group-addon"> month(s)</span>                   	
						</div>	
						
					</div>
				</div>

				<div id="broker_fee" class="form-group">
					<label class="control-label col-xs-3">Broker Fee</label>
					<div class="col-xs-9">
						<div class="input-group">
							<span class="input-group-addon">
        						<input type="checkbox" id="broker_fee_ckb">
      						</span>
							<span class="input-group-addon">
	                        	<span class="glyphicon glyphicon-user "></span>
	                        </span>
	                      
	                        <input id="broker_fee_input" disabled type="text" class="form-control text-right" placeholder="US Dollar">
	                        <span class="input-group-addon"> .00</span>                   	
						</div>	
						
					</div>
				</div>

				

				<div id="utility" class="form-group">
					<label class="control-label col-xs-3">Utilities</label>
					<div class="col-xs-9">
						<div id="utilities_group" class="btn-group" data-toggle="buttons">
			                <label class="btn btn-default active">
			                <input id="utility_none" type="checkbox" checked  /><span id="utility_0">None</span>
			                </label>
			                <label class="btn btn-default">
			                <input name="hasElectricity" id="hasElectricity" type="checkbox"  /><span id="utility_1">Electricity</span>
			                </label>

			                <label class="btn btn-default ">
			                <input name="hasHeat" id="hasHeat" type="checkbox"  /><span id="utility_2">Heat</span>
			                </label>

			                <label class="btn btn-default ">
			                <input name="hasInternet" id="hasInternet" type="checkbox"  /><span id="utility_3">Internet</span>
			                </label>

			                <!--
			                <label class="btn btn-default ">
			                <input id="utility_all" type="checkbox" /><span id="utility_4">All</span>
			                </label>
			            	-->

		            	</div>
		            	<span class="help-block"> including ........ </span>
						
					</div>
				</div>

				<div class="form-group">
					<label class="control-label col-xs-3">Gender required</label>
					<div class="col-xs-9">
						<div class="btn-group" data-toggle="buttons">
			                <label class="btn btn-default active">
			                <input name="gender" type="radio" value="0" checked /><span id="gender_0">None</span>
			                </label>
			                <label class="btn btn-default">
			                <input id="" name="gender" type="radio" value="1" /><span id="gender_1">Women only</span>
			                </label>

			                <label class="btn btn-default ">
			                <input id="" name="gender" type="radio" value="2" /><span id="gender_2">Men only</span>
			                </label>

		            	</div>
						
					</div>
				</div>

				<div id="pets" class="form-group">
					<label class="control-label col-xs-3">Pets allowed</label>
					<div class="col-xs-9">
						<div class="btn-group" data-toggle="buttons">
			                <label class="btn btn-default active">
			                <input name="pet" type="radio" value="0"  checked/><span id="pet_0">No</span>
			                </label>
			                <label class="btn btn-default">
			                <input name="pet" type="radio" value="1" /><span id="pet_1">Cat</span>
			                </label>

			                <label class="btn btn-default ">
			                <input  name="pet" type="radio" value="2" /><span id="pet_2">Dog</span>
			                </label>

			                <label class="btn btn-default ">
			                <input name="pet" type="radio" value="3" /><span id="pet_3">All kinds</span>
			                </label>

		            	</div>
						
					</div>
				</div>



			</div>
			<div class="col-md-6 col-xs-12">

				<div class="form-group">
					<label class="control-label col-xs-3">* Description</label>
					<div class="col-xs-9">
						<textarea id="description_input" class="form-control" rows="16"></textarea>
					</div>
				</div>


				<div class="form-group">
					<label class="control-label col-xs-3">* Contact Name</label>
					<div class="col-xs-9">
						<input id="contact_name_input" type="text" class="form-control" value="<%=  current_user.name%>">
						
					</div>
				</div>

				<div class="form-group">
					<label class="control-label col-xs-3">* Contact Email</label>
					<div class="col-xs-9">
						<input id="contact_email_input" type="text" class="form-control" value="<%=  current_user.email%>">
						<span class="help-block"><input id="contact_email_ckb"type="checkbox" checked/> Public (Public option.... .)</span>
					</div>
					

				</div>
					

				<div class="form-group">
					<label class="control-label col-xs-3"> Contact Phone</label>
					<div class="col-xs-9">
						<input id="contact_phone_input" type="text" class="form-control">
						
					</div>
				</div>

				<div class="pull-right">
					<button type="button" class="btn btn-primary" id="step_1_con"s>Continue</button>
				</div>	


				

			</div>		
		</div>

		<!--
		<div class="row">
			<div class="col-xs-12">
			</div>	
		</div>
		-->

	</div> <!-- end of step 1 -->

	<!-- step 2 -->
	<div class="step_2 hide">
		<div class="row">
			<div class="col-xs-12 col-md-6">
				<div class="col-xs-4 ">
				</div>	
				<div class="col-xs-4 ">
					<div class="form-group">
						
						<div class="radio">
		  					<label>
		    				<input  type="radio" name="radio_addr" id="radio_exactly_addr" value="0">
		    				exactly address
		  					</label>
						</div>
					</div>
				</div>
				<div class="col-xs-4">	
					<div class="form-group">
						<div class="radio">
							<label>
		    				<input type="radio" name="radio_addr" id="radio_blur_addr" value="1">
		    				blur address
		  					</label>
		  				</div>	
		  			</div>	
				</div>	
			</div>
		</div> <!-- end of row -->

		<div class="row">
				
			<div class="col-md-6 col-xs-12">
				
				<div class="exactly_addr">
					<div class="well hide">
						explain about how this blur address works</br>
						dwdwdwdwdw</br>
						sss
					</div>	

					<div class="form-group">
						<label class="control-label col-xs-3">* Address</label>
						<div class="col-xs-9">
							<input id="address1_input" type="text" class="form-control">
							
						</div>
					</div>

					<div class="form-group">
						<label class="control-label col-xs-3"><span class="star hide">* </span>Address</label>
						<div class="col-xs-9">
							<input id="address2_input" type="text" class="form-control">
							
						</div>
					</div>

					<div class="form-group">
						<label class="control-label col-xs-3">* City</label>
						<div class="col-xs-9">
							<input id="city_input" type="text" class="form-control">
							
						</div>
					</div>
					
					<div class="form-group">
						<label class="control-label col-xs-3">* State</label>
						<div class="col-xs-9">
						<%= render 'layouts/state_picker' %>
						</div>
					</div>

					<div class="form-group">
						<label class="control-label col-xs-3">* Zipcode</label>
						<div class="col-xs-9">
							<input id="zipcode_input" type="text" class="form-control">
							
						</div>
					</div>

					
				</div>


				<hr>
				<span id="file_name" class="help-block">* You need 1 photo can upload at most 4 photos </span>

				<div class="progress progress-striped active hide">
    				<div id="progressBar" class="progress-bar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
				</div>


              	<button type="button" class="btn btn-warning col-md-4 col-md-offset-4" id="trigger_select_btn">
                <span class="glyphicon glyphicon-folder-open"></span><div>  Upload photo</div> 
              	</button>

              	

			</div>

			<div class="col-md-6 col-xs-12 ">

				<div class="row">
					<div class="col-xs-6 empty" id="photo_1">
						<a id='photo_1_cancel' class='close hide photo-cancel'>&times;</a>				
					</div>

					<div class="col-xs-6 empty" id="photo_2">
						<a id='photo_2_cancel' class='close hide photo-cancel'>&times;</a>		
						
						<!--
						<img class="thumbnail" data-src="holder.js/245x160">
					 	-->
					</div>
				</div>
				</br>
				<div class="row">	
					<div class="col-xs-6 empty" id="photo_3">
						<a id='photo_3_cancel' class='close hide photo-cancel'>&times;</a>		
						
						<!--
						<img class="thumbnail" data-src="holder.js/245x160">
					 	-->
					</div>

					<div class="col-xs-6 empty" id="photo_4">	
						<a id='photo_4_cancel' class='close hide photo-cancel'>&times;</a>		
						
						<!--
						<img class="thumbnail" data-src="holder.js/245x160">
					 	-->
					</div>

				</div>

				
			</div>		
		</div>
	</br>
		<div class="row">
			<div class="col-xs-12">
				<div class="pull-right">
					<button type="button" class="btn btn-link" id="step_2_pre">Previous</button>
					<button type="button" class="btn btn-primary" id="step_2_con">Continue</button>
				</div>	

			</div>	
		</div>	

	</div> <!-- end of step 2 -->


</form>

<%= form_for(@property) do |f|  %>

	<!-- step 3 -->
	<div class="step_3 hide">
		<div class="row">
			<div class="col-lg-6">
            

            <div class="row">

                <div class="row">
					<div class="col-xs-6 non-visibile" id="photo_1_p3">	

					</div>
					

					<div class="col-xs-6 non-visibile" id="photo_2_p3">
						
					</div>
					<!--<input id='photo_2_input' name='photo[]' type='hidden' value=''/> -->

				</div>
			</br>
				<div class="row">	
					<div class="col-xs-6 non-visibile" id="photo_3_p3">	
					 	
					</div>
					<!--<input id='photo_3_input' name='photo[]' type='hidden' value=''/>-->

					<div class="col-xs-6 non-visibile" id="photo_4_p3">
							 	
					</div>
					<!--<input id='photo_4_input' name='photo[]' type='hidden' value=''/>-->

				</div>

            </div>  

             <div class="col-md-10 col-md-offset-1">
            	<h4> <span id="span_addr"></span> </h4>
        	</div>
        	<hr>

        	<%= f.hidden_field :radio_addr %>
        	<%= f.hidden_field :address1 %>
        	<%= f.hidden_field :address2 %>
        	<%= f.hidden_field :city %>
        	<%= f.hidden_field :state %>
        	<%= f.hidden_field :zipcode %>

        	<%= f.hidden_field :b_address1 %>
        	<%= f.hidden_field :b_address2 %>
        	<%= f.hidden_field :b_city %>
        	<%= f.hidden_field :b_state %>
        	<%= f.hidden_field :b_zipcode %>

        	<%= f.hidden_field :hasElectricity %>
        	<%= f.hidden_field :hasHeat %>
        	<%= f.hidden_field :hasInternet %>

<input id="property_hasBrokerFee" type="hidden" value="0" name="property[hasBrokerFee]">
<input id="property_hasDeposit"  type="hidden" value="0" name="property[hasDeposit]">
<input id="property_hasContract"  type="hidden" value="0" name="property[hasContract]">
<input id="property_isPublic"  type="hidden" value="1" name="property[isPublic]">
<input id="property_ip"  type="hidden" value="" name="property[ip]">


            <table class="table table-bordered table-striped">
            			<tbody>
            				<tr>
            					<td>Contact Name</td>
            					<td> <%= f.text_field :contact_name, :class => "non-input", :readonly => "readonly" %></td>
            				</tr>
            				<tr>
            					<td>Contact Email</td>
            					<td> <%= f.text_field :contact_phone, :class => "non-input", :readonly => "readonly" %></td>
            				</tr>
            				<tr>
            					<td>Contact Phone</td>
            					<td> <%= f.text_field :contact_email, :class => "non-input", :readonly => "readonly" %></td>
            				</tr>
        
            			</tbody>

            		</table>

           
                        

            <!--<p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p>-->

        </div><!-- /.col-lg-6 -->
        <!-- sliders for images -->
        <div class="col-lg-6">

            <span><h3 class="top_h3"> Description </h3> </span>  
                <div id="p_description"></div>
         

                <%= f.text_area :description, :cols => "80",:rows => "10", :class => "non-input", :readonly => "readonly"%>

            <span><h3> Information </h3> </span> 
            
         
            <div class="row">
            	<div class="col-lg-6">

            		<table id="table1" class="table table-bordered table-striped">
            			
            				<tr>
            					<td>Type</td>
            					<td><div id="property_category"></div> 
            					</td>
            				</tr>
            				<tr>
            					<td>Bed</td>
            					<td> <%= f.text_field :bed, :class => "non-input", :readonly => "readonly" %>
            					</td>
            				</tr>
            				<tr>
            					<td>Bath</td>
            					<td><%= f.text_field :bath, :class => "non-input", :readonly => "readonly" %>
            					</td>
            				</tr>
            				
            			
            		</table>	


            	</div>
            	<div class="col-lg-6">
            		<table id="table2"  class="table table-bordered table-striped">
            				<tr>
            					<td>Price</td>
            					<td>$ <%= f.text_field :price, :class => "non-input", :readonly => "readonly" %> 
            					</td>
            				</tr>
   
            		</table>	
            		
            	</div>
            </div>	
            

            
           
        </div><!-- /.col-lg-6 -->


		</div>
		<div class="row">
			<div class="col-xs-12">
				<div class="pull-right">
					<button type="button" class="btn btn-link" id="step_3_pre">Previous</button>
					<button type="submit" class=" btn btn-success btn-lg" id="step_3_pub">Looks good ! Publish</button>
				</div>	

			</div>	
		</div>	
	</div> <!-- end of step 3 -->



	
<% end %>



<!-- upload file form -->
<form action="/photos" enctype="multipart/form-data" method="post">
    
    <input id="upload_file" type="file" name="photo[image]" multiple style="display: none;"> 

     <%#= f.file_field :image, :class => "upload_file", multiple: true, :name => "photo[image]" %>   

    <button type="button" id="upload_btn" style="display: none;">
    </button>
    
</form>   


<%= javascript_include_tag "/properties/new.js" %>


